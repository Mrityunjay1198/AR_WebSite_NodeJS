<%- include('navbar'); %>
 
<div class="container">
<div class="row mt-5">
    <div class="col-md-9 m-auto">
        <div class="card card-body">
        <h1 class="text-center mb-3"> Company Details</h1>
        <% include ./partials/messages %>
        <form action="/users/add_company" method="POST">
          <div class="form-group">
            <label for="cname">Company Name</label>
            <input
              type="text"
              id="cname"
              name="cname"
              class="form-control"
              placeholder="Enter Company"
              autofocus
            />
          </div>
          <div class="form-group">
            <label for="caddress">Address</label>
            <input
              type="text"
              id="caddress"
              name="caddress"
              class="form-control"
              placeholder="Enter Address"
            />
          </div>


          <div class="form-group">
             <div class="row">
                 <div class="col-md-6">
                    <label for="city">City</label>
                    <input
                    type="text"
                    id="city"
                    name="city"
                    class="form-control"
                    placeholder="Enter City"
                  />
                 </div>
                 <div class="col-md-6">
                    <label for="state">State</label>
                    <input
                    type="text"
                    id="state"
                    name="state"
                    class="form-control"
                    placeholder="Enter State"
                  />
                 </div>                 
             </div>
             </div>


             <div class="form-group">
                <div class="row">
                    <div class="col-md-6">
                       <label for="country">Country</label>
                       <input
                       type="text"
                       id="country"
                       name="country"
                       class="form-control"
                       placeholder="Enter Country"
                     />
                    </div>
                    <div class="col-md-6">
                       <label for="mobile">Mobile</label>
                       <input
                       type="text"
                       id="mobile"
                       name="mobile"
                       class="form-control"
                       placeholder="Enter Mobile"
                     />
                    </div>                 
                </div>
                </div>
             
                <div class="form-group">
                  <select class="custom-select">
                    <option selected="">Open this select menu</option>
                    <option value="1">One</option>
                    <option value="2">Two</option>
                    <option value="3">Three</option>
                  </select>
                </div>

          <button type="submit" class="btn btn-primary btn-block">Submit</button>
        </form>
        </div>
      </div>
    </div>
<br>
<hr>
    <h1 style="text-align: center;">Company Data</h1>
    <% if(companies.length > 0){ %>

      <div class="container">
      <table class="table table-hover" id="mytable">
          <thead>
            <tr>
              <th scope="col">Sr no.</th>
              <th scope="col">Name</th>
              <th scope="col">Address</th>
              <th scope="col">City</th>
              <th scope="col">State</th>
              <th scope="col">Country</th>
              <th scope="col">Mobile</th>
              <th scope="col">Action</th>
            </tr>
          </thead>
          <tbody>
          <% for(var i = 0; i < companies.length; i++) { %>
            <% if(i%2!=0){ %>
            <tr class="table-secondary">
              <th scope="row"><%= i+1 %></th>
              <td><%= companies[i].cname %></td>
              <td><%= companies[i].caddress %></td>
              <td><%= companies[i].city %></td>
              <td><%= companies[i].state %></td>
              <td><%= companies[i].country %></td>
              <td><%= companies[i].mobile %></td>
              <td>
              <a href="/users/add_company?id=<%= companies[i]._id %>"><i style="color: #1E90FF;" class="fas fa-edit"></i></a> | 
              <a href="/users/delete?id=<%= companies[i]._id %>"><i class="fas fa-trash-alt"></i></a>
              </td>
            </tr>  
            <%}else{%>
              <tr class="table-info">
                <th scope="row"><%= i+1 %></th>
                <td><%= companies[i].cname %></td>
                <td><%= companies[i].caddress %></td>
                <td><%= companies[i].city %></td>
                <td><%= companies[i].state %></td>
                <td><%= companies[i].country %></td>
                <td><%= companies[i].mobile %></td>
                <td>
                  <a href="/users/add_company?id=<%= companies[i]._id %>"><i style="color: #1E90FF;" class="fas fa-edit"></i></a> | 
                  <a href="/users/delete?id=<%= companies[i]._id %>"><i class="fas fa-trash-alt"></i></a>
                </td>
              </tr>  
            <% }} %> 
          </tbody>
        </table> 
      </div>
      <% }else{ %>
        <h5 style="text-align: center;">No Records Found</h5> 
        <% } %>
  </div>
</div>

<script
      src="https://code.jquery.com/jquery-3.3.1.slim.min.js"
      integrity="sha384-q8i/X+965DzO0rT7abK41JStQIAqVgRVzpbzo5smXKp4YfRvH+8abtTE1Pi6jizo"
      crossorigin="anonymous"
    ></script>
<script>
  $(document).ready(()=>{
    $('#mytable').DataTable({
      "ordering" : false
    });
  });
//console.log('_id',"<%= companies[0].cname %>");
</script>
  <%- include('footer'); %>